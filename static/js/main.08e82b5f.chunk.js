(window.webpackJsonpforecast=window.webpackJsonpforecast||[]).push([[0],{59:function(t,e,a){t.exports=a.p+"static/media/Rainy.9247b5c6.webp"},60:function(t,e,a){t.exports=a.p+"static/media/Rainy.869ecddf.jpg"},61:function(t,e,a){t.exports=a.p+"static/media/Snowy.c02d2d39.webp"},62:function(t,e,a){t.exports=a.p+"static/media/Snowy.753bb223.jpg"},63:function(t,e,a){t.exports=a.p+"static/media/Cloudy.d19659ab.webp"},64:function(t,e,a){t.exports=a.p+"static/media/Cloudy.7b0d2d01.jpg"},65:function(t,e,a){t.exports=a.p+"static/media/Clear.48100543.webp"},66:function(t,e,a){t.exports=a.p+"static/media/Clear.00892c85.jpg"},67:function(t,e,a){t.exports=a.p+"static/media/Thunderstorm.1cef7ab2.webp"},68:function(t,e,a){t.exports=a.p+"static/media/Thunderstorm.17776440.jpg"},69:function(t,e,a){t.exports=a.p+"static/media/Drizzle.73168f5d.webp"},70:function(t,e,a){t.exports=a.p+"static/media/Drizzle.90fc98b5.jpg"},71:function(t,e,a){t.exports=a.p+"static/media/Fog.61ac5181.webp"},72:function(t,e,a){t.exports=a.p+"static/media/Fog.e55044d6.jpg"},91:function(t,e,a){t.exports=a(99)},97:function(t,e,a){},99:function(t,e,a){"use strict";a.r(e);var n=a(7),i=a.n(n),r=a(57),s=a.n(r),o=a(41),c=a.n(o),u=a(58),d=a(44),l=a(45),p=a(46),m=a(55),h=a(47),f=a(36),b=a(54),y=a(59),w=a.n(y),v=a(60),g=a.n(v),x=a(61),E=a.n(x),j=a(62),C=a.n(j),O=a(63),k=a.n(O),S=a(64),N=a.n(S),F=a(65),M=a.n(F),D=a(66),P=a.n(D),A=a(67),T=a.n(A),I=a(68),z=a.n(I),R=a(69),_=a.n(R),B=a(70),V=a.n(B),L=a(71),H=a.n(L),U=a(72),W=a.n(U);var q=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),J={Rain:w.a,Snow:E.a,Clouds:k.a,Clear:M.a,Thunderstorm:T.a,Drizzle:_.a,Rainjpg:g.a,Snowjpg:C.a,Cloudsjpg:N.a,Clearjpg:P.a,Thunderstormjpg:z.a,Drizzlejpg:V.a};var G=function(t){return J[t]?q?J[t]:J[t+"jpg"]:q?H.a:W.a};var X=function(t){return i.a.createElement("div",{className:"weatherCard",style:{backgroundImage:"url("+G(t.condition)+")"}},i.a.createElement("h2",{className:"mainh2"},t.day),i.a.createElement("h2",{className:"mainh2"},t.condition),i.a.createElement("h2",{className:"highh2"},"High: "+t.high+"\xb0C"),i.a.createElement("h2",{className:"lowh2"},"Low: "+t.low+"\xb0C"))};var Z=function(t){var e={backgroundColor:"mediumaquamarine",backgroundImage:"url("+G(t.mainCondition)+")",backgroundSize:"cover",backgroundPosition:"center"},a=["12 AM","3 AM","6 AM","9 AM","12 PM","3 PM","6 PM","9 PM"],n=["Time","Temperature","Condition","Description","Humidity","Cloudiness","Wind Speed"],r=n.map(function(t,e){return i.a.createElement("th",{key:e},t)}),s=[0,1,2,3,4,5,6,7].map(function(e){return i.a.createElement("tr",{key:e},i.a.createElement("td",null,a[e]),i.a.createElement("td",null,t.values[t.start+e]),i.a.createElement("td",null,t.conditions[t.start+e]),i.a.createElement("td",null,t.descriptions[t.start+e]),i.a.createElement("td",null,t.humidities[t.start+e]),i.a.createElement("td",null,t.cloudiness[t.start+e]),i.a.createElement("td",null,t.windSpeeds[t.start+e]))});return i.a.createElement("table",{align:"center",style:e},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:n.length},t.day)),i.a.createElement("tr",null,r),s))},K=(a(97),a(76)),Q=a(73),Y=a(53),$=a(75),tt=a(74),et=a(6),at=43.59,nt=-79.7,it=8,rt=at,st=nt,ot=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(m.a)(this,Object(h.a)(e).call(this))).state={lat:rt,lon:st},t.map=new Q.a({target:null,layers:[new $.a({source:new tt.a})],view:new Y.a({center:Object(et.d)([nt,at]),zoom:[it]})}),t.handleSubmit=t.handleSubmit.bind(Object(f.a)(t)),t}return Object(b.a)(e,t),Object(p.a)(e,[{key:"handleSubmit",value:function(){this.props.submit(this.state.lat,this.state.lon)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,"Click on the map to see the forecast there")," ",i.a.createElement("br",null),i.a.createElement("label",null,"Latitude: ",this.state.lat," Longitude: ",this.state.lon),i.a.createElement("br",null),i.a.createElement("input",{type:"submit",value:"Submit Coordinates",onClick:this.handleSubmit}),i.a.createElement("div",{id:"map"}))}},{key:"componentDidMount",value:function(){var t=this;this.map.setTarget("map"),this.map.on("click",function(e){var a=Object(et.l)(e.coordinate);t.setState({lon:a[0],lat:a[1]})})}},{key:"componentWillUnmount",value:function(){var t=Object(et.l)(this.map.getView().getCenter()),e=Object(K.a)(t,2);nt=e[0],at=e[1],it=this.map.getView().getZoom();var a=[this.state.lon,this.state.lat];st=a[0],rt=a[1]}}]),e}(n.Component),ct=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ut(t){var e=t.city.name;return e?e+"'s Forecast":"Forecast of Unknown City"}function dt(t){for(var e=[],a=0;a<40;a+=8)e.push(ct[(new Date(t.list[a].dt_txt.slice(0,10)).getDay()+1)%7]);return e}function lt(t,e){for(var a=[],n=[],i=[1,1,2,3,3,3,2,1],r=0;r<5;r++){n={maxValue:0,maxCondition:"N/A"};for(var s=8*r;s<8*(r+1);s++){var o=t[s];"N/A"!==o&&(n[o]=n[o]+i[s%8]||i[s%8],n[o]>n.maxValue&&(n.maxValue=n[o],n.maxCondition=o))}a.push(n.maxCondition)}return a}function pt(t,e){for(var a=[],n=[],i=0;i<e.length-1;i++){for(var r=0,s=Number.MAX_SAFE_INTEGER,o=e[i],c=e[i+1],u=o;u<c;u++)r=Math.max(r,t[u].main.temp_max),s=Math.min(s,t[u].main.temp_min);n.push((r-273.15).toFixed(2)),a.push((s-273.15).toFixed(2))}return{highs:n,lows:a}}function mt(t){var e,a=[],n=(e=t[0],(24-new Date(e.dt_txt).getHours())/3);a.push(0);for(var i=n;i<=40;i+=8)a.push(i);return a}function ht(t,e){for(var a=e[1],n=[],i=[],r=[],s=[],o=[],c=[],u=0;u<8-a;u++)n.push("N/A"),i.push("N/A"),r.push("N/A"),s.push("N/A"),o.push("N/A"),c.push("N/A");for(var d=0;d<32+a;d++)n.push((t[d].main.temp-273.15).toFixed(2)+"\xb0C"),i.push(t[d].weather[0].main),r.push(t[d].weather[0].description),s.push(t[d].main.humidity+"%"),o.push(t[d].clouds.all+"%"),c.push(t[d].wind.speed+" m/s");return{temps:n,conds:i,descs:r,humids:s,clouds:o,windSpeeds:c}}function ft(){return(ft=Object(d.a)(c.a.mark(function t(e){var a,n,i,r,s,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(429!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",-1);case 5:return t.next=7,a.json();case 7:return n=t.sent,i=mt(n.list),(r={}).header=ut(n),r.days=dt(n),s=pt(n.list,i),o=ht(n.list,i),r.conditions=lt(o.conds),r.highs=s.highs,r.lows=s.lows,r.hourly=o.temps,r.hourlyConditions=o.conds,r.descriptions=o.descs,r.humidities=o.humids,r.cloudiness=o.clouds,r.windSpeeds=o.windSpeeds,t.abrupt("return",r);case 24:case"end":return t.stop()}},t)}))).apply(this,arguments)}var bt=function(t){return ft.apply(this,arguments)};function yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function wt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yt(a,!0).forEach(function(e){Object(u.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yt(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var vt="54a84a123d401ac68736a6bca89f4301",gt="https://api.openweathermap.org/data/2.5/forecast?id=6167865&appid="+vt;var xt=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={days:0,highs:0,lows:0,conditions:0,header:"Toronto's Forecast",status:200,hourly:[],hourlyConditions:[],descriptions:[],humidities:[],cloudiness:[],windSpeeds:[],dayIndex:-1},a.handleMapSubmit=a.handleMapSubmit.bind(Object(f.a)(a)),a.dayFocus=a.dayFocus.bind(Object(f.a)(a)),a}return Object(b.a)(e,t),Object(p.a)(e,[{key:"handleMapSubmit",value:function(t,e){(function(t,e){var a="https://api.openweathermap.org/data/2.5/forecast?lat="+t+"&lon="+e+"&appid="+vt;return a!==gt&&(gt=a,!0)})(t,e)&&this.componentDidMount()}},{key:"dayFocus",value:function(t){this.setState({dayIndex:t})}},{key:"render",value:function(){var t=this;if(0===this.state.days)return i.a.createElement("h1",null,"The Forecast is loading, please wait");if(429===this.state.status)return i.a.createElement("h1",null,"Too many forecast requests have been made. Please come back in an hour.");if(-1!==this.state.dayIndex)return i.a.createElement("div",{style:{width:"fit-content",margin:"auto"}},i.a.createElement(Z,{day:this.state.days[this.state.dayIndex],values:this.state.hourly,start:8*this.state.dayIndex,conditions:this.state.hourlyConditions,descriptions:this.state.descriptions,humidities:this.state.humidities,cloudiness:this.state.cloudiness,windSpeeds:this.state.windSpeeds,mainCondition:this.state.conditions[this.state.dayIndex]}),i.a.createElement("button",{id:"prevbtn",className:"cardButton",onClick:function(){return t.dayFocus((t.state.dayIndex+4)%5)}},"Previous"),i.a.createElement("button",{id:"backbtn",className:"cardButton",onClick:function(){return t.dayFocus(-1)}},"Back"),i.a.createElement("button",{id:"nextbtn",className:"cardButton",onClick:function(){return t.dayFocus((t.state.dayIndex+1)%5)}},"Next"));var e=[0,1,2,3,4].map(function(e){return i.a.createElement("div",{onClick:function(){return t.dayFocus(e)},className:"Card",key:e},i.a.createElement(X,{day:t.state.days[e],high:t.state.highs[e],low:t.state.lows[e],condition:t.state.conditions[e]}))});return i.a.createElement("div",null,i.a.createElement("h1",null,this.state.header),i.a.createElement("div",{id:"cardContainer"},e),i.a.createElement(ot,{submit:this.handleMapSubmit}))}},{key:"componentDidMount",value:function(){var t=Object(d.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bt(gt);case 2:-1===(e=t.sent)?this.setState({status:429}):this.setState(wt({},e));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(i.a.Component);s.a.render(i.a.createElement(xt,null),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.08e82b5f.chunk.js.map