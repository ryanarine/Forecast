(window.webpackJsonpforecast=window.webpackJsonpforecast||[]).push([[0],{20:function(t,e,a){t.exports=a.p+"static/media/Rainy.9247b5c6.webp"},21:function(t,e,a){t.exports=a.p+"static/media/Rainy.869ecddf.jpg"},22:function(t,e,a){t.exports=a.p+"static/media/Snowy.c02d2d39.webp"},23:function(t,e,a){t.exports=a.p+"static/media/Snowy.753bb223.jpg"},24:function(t,e,a){t.exports=a.p+"static/media/Cloudy.d19659ab.webp"},25:function(t,e,a){t.exports=a.p+"static/media/Cloudy.7b0d2d01.jpg"},26:function(t,e,a){t.exports=a.p+"static/media/Clear.48100543.webp"},27:function(t,e,a){t.exports=a.p+"static/media/Clear.00892c85.jpg"},28:function(t,e,a){t.exports=a.p+"static/media/Thunderstorm.1cef7ab2.webp"},29:function(t,e,a){t.exports=a.p+"static/media/Thunderstorm.17776440.jpg"},30:function(t,e,a){t.exports=a.p+"static/media/Drizzle.73168f5d.webp"},31:function(t,e,a){t.exports=a.p+"static/media/Drizzle.90fc98b5.jpg"},32:function(t,e,a){t.exports=a.p+"static/media/Fog.61ac5181.webp"},33:function(t,e,a){t.exports=a.p+"static/media/Fog.e55044d6.jpg"},35:function(t,e,a){t.exports=a(64)},41:function(t,e,a){},42:function(t,e,a){},64:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(9),s=a.n(r),o=a(7),c=a.n(o),u=a(19),l=a(8),d=a(2),m=a(3),h=a(5),p=a(4),b=a(1),f=a(6),y=a(20),g=a.n(y),v=a(21),w=a.n(v),E=a(22),j=a.n(E),C=a(23),x=a.n(C),k=a(24),O=a.n(k),S=a(25),M=a.n(S),N=a(26),F=a.n(N),A=a(27),D=a.n(A),I=a(28),P=a.n(I),T=a(29),z=a.n(T),B=a(30),R=a.n(B),_=a(31),H=a.n(_),K=a(32),L=a.n(K),V=a(33),W=a.n(V),U=(a(41),{Rain:g.a,Snow:j.a,Clouds:O.a,Clear:F.a,Thunderstorm:P.a,Drizzle:R.a,Rainjpg:w.a,Snowjpg:x.a,Cloudsjpg:M.a,Clearjpg:D.a,Thunderstormjpg:z.a,Drizzlejpg:H.a});var X=function(t){return U[t]?window.createImageBitmap?U[t]:U[t+"jpg"]:window.createImageBitmap?L.a:W.a};var q=function(t){return i.a.createElement("div",{className:"weatherCard",style:{backgroundImage:"url("+X(t.condition)+")"}},i.a.createElement("h2",{className:"mainh2"},t.day),i.a.createElement("h2",{className:"mainh2"},t.condition),i.a.createElement("h2",{className:"highh2"},"High: "+t.high+"\xb0C"),i.a.createElement("h2",{className:"lowh2"},"Low: "+t.low+"\xb0C"))};var G=function(t){var e={backgroundColor:"mediumaquamarine",backgroundImage:"url("+X(t.mainCondition)+")",backgroundSize:"cover",backgroundPosition:"center"},a=["12 AM","3 AM","6 AM","9 AM","12 PM","3 PM","6 PM","9 PM"],n=["Time","Temperature","Condition","Description","Humidity","Cloudiness","Wind Speed"],r=n.map(function(t,e){return i.a.createElement("th",{key:e},t)}),s=[0,1,2,3,4,5,6,7].map(function(e){return i.a.createElement("tr",{key:e},i.a.createElement("td",null,a[e]),i.a.createElement("td",null,t.values[t.start+e]),i.a.createElement("td",null,t.conditions[t.start+e]),i.a.createElement("td",null,t.descriptions[t.start+e]),i.a.createElement("td",null,t.humidities[t.start+e]),i.a.createElement("td",null,t.cloudiness[t.start+e]),i.a.createElement("td",null,t.windSpeeds[t.start+e]))});return i.a.createElement("table",{align:"center",style:e},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:n.length},t.day)),i.a.createElement("tr",null,r),s))},J=(a(42),a(34)),Y=a.n(J),Z=43.59,Q=-79.7,$=8,tt=Z,et=Q,at=$,nt=function(t){function e(){var t;return Object(d.a)(this,e),(t=Object(h.a)(this,Object(p.a)(e).call(this))).state={lat:Z,lng:Q},t.handleClick=t.handleClick.bind(Object(b.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(b.a)(t)),t}return Object(f.a)(e,t),Object(m.a)(e,[{key:"handleClick",value:function(t){this.setState({lat:t.lat,lng:t.lng})}},{key:"handleSubmit",value:function(){this.props.submit(this.state.lat,this.state.lng)}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{id:"mapContainer"},i.a.createElement("label",null,"Or click on the map to see the forecast there")," ",i.a.createElement("br",null),i.a.createElement("label",null,"Latitude: ",this.state.lat," Longitude: ",this.state.lng),i.a.createElement("br",null),i.a.createElement("input",{type:"submit",value:"Submit Coordinates",onClick:this.handleSubmit}),i.a.createElement(Y.a,{bootstrapURLKeys:{key:"AIzaSyA5XxXKw44uRve7wAs046c_jGmKNhK6B1Y"},defaultCenter:{lat:Z,lng:Q},defaultZoom:$,onClick:function(e){return t.setState({lat:e.lat,lng:e.lng})},onChange:function(t){tt=t.center.lat,et=t.center.lng,at=t.zoom}}))}},{key:"componentWillUnmount",value:function(){Z=tt,Q=et,$=at}}]),e}(n.Component),it=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function rt(t){var e=t.city.name;return e?e+"'s Forecast":"Forecast of Unknown City"}function st(t){for(var e=[],a=0;a<40;a+=8)e.push(it[(new Date(t.list[a].dt_txt.slice(0,10)).getDay()+1)%7]);return e}function ot(t,e){for(var a=[],n=[],i=[1,1,2,3,3,3,2,1],r=0;r<5;r++){n={maxValue:0,maxCondition:"N/A"};for(var s=8*r;s<8*(r+1);s++){var o=t[s];"N/A"!==o&&(n[o]=n[o]+i[s%8]||i[s%8],n[o]>n.maxValue&&(n.maxValue=n[o],n.maxCondition=o))}a.push(n.maxCondition)}return a}function ct(t,e){for(var a=[],n=[],i=0;i<e.length-1;i++){for(var r=0,s=Number.MAX_SAFE_INTEGER,o=e[i],c=e[i+1],u=o;u<c;u++)r=Math.max(r,t[u].main.temp_max),s=Math.min(s,t[u].main.temp_min);n.push((r-273.15).toFixed(2)),a.push((s-273.15).toFixed(2))}return{highs:n,lows:a}}function ut(t){var e,a=[],n=(e=t[0],(24-new Date(e.dt_txt).getHours())/3);a.push(0);for(var i=n;i<=40;i+=8)a.push(i);return a}function lt(t,e){for(var a=e[1],n=[],i=[],r=[],s=[],o=[],c=[],u=0;u<8-a;u++)n.push("N/A"),i.push("N/A"),r.push("N/A"),s.push("N/A"),o.push("N/A"),c.push("N/A");for(var l=0;l<32+a;l++)n.push((t[l].main.temp-273.15).toFixed(2)+"\xb0C"),i.push(t[l].weather[0].main),r.push(t[l].weather[0].description),s.push(t[l].main.humidity+"%"),o.push(t[l].clouds.all+"%"),c.push(t[l].wind.speed+" m/s");return{temps:n,conds:i,descs:r,humids:s,clouds:o,windSpeeds:c}}function dt(){return(dt=Object(l.a)(c.a.mark(function t(e){var a,n,i,r,s,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(429!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",-1);case 5:return t.next=7,a.json();case 7:return n=t.sent,i=ut(n.list),(r={}).header=rt(n),r.days=st(n),s=ct(n.list,i),o=lt(n.list,i),r.conditions=ot(o.conds),r.highs=s.highs,r.lows=s.lows,r.hourly=o.temps,r.hourlyConditions=o.conds,r.descriptions=o.descs,r.humidities=o.humids,r.cloudiness=o.clouds,r.windSpeeds=o.windSpeeds,t.abrupt("return",r);case 24:case"end":return t.stop()}},t)}))).apply(this,arguments)}var mt=function(t){return dt.apply(this,arguments)},ht=["toronto","brampton","mississauga","richmondhill","kitchener","waterloo","markham","ottawa","hamilton","vaughan","oshawa"],pt=["Toronto","Brampton","Mississauga","Richmond Hill","Kitchener","Waterloo","Markham","Ottawa","Hamilton","Vaughan","Oshawa"],bt=function(t){function e(t){var a;return Object(d.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this))).state={city:"toronto",name:t.name},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(f.a)(e,t),Object(m.a)(e,[{key:"handleChange",value:function(t){t.target.value!==this.state.city&&this.setState({city:t.target.value})}},{key:"render",value:function(){var t=ht.map(function(t,e){return i.a.createElement("option",{key:e,value:t},pt[e])});return i.a.createElement("select",{value:this.state.city,onChange:this.handleChange,name:this.state.name},t)}}]),e}(n.Component);function ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function yt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ft(a,!0).forEach(function(e){Object(u.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ft(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var gt="54a84a123d401ac68736a6bca89f4301",vt={toronto:"6167865",brampton:"5907364",mississauga:"6075357",richmondhill:"6122091",kitchener:"5992996",waterloo:"6176823",markham:"6066513",ottawa:"6094817",hamilton:"5969782",vaughan:"6173577",oshawa:"6094578"},wt="https://api.openweathermap.org/data/2.5/forecast?id=6167865&appid="+gt;function Et(t){return t!==wt&&(wt=t,!0)}var jt=function(t){function e(t){var a;return Object(d.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={days:0,highs:0,lows:0,conditions:0,header:"Toronto's Forecast",status:200,hourly:[],hourlyConditions:[],descriptions:[],humidities:[],cloudiness:[],windSpeeds:[],dayIndex:-1},a.handleMapSubmit=a.handleMapSubmit.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.dayFocus=a.dayFocus.bind(Object(b.a)(a)),a}return Object(f.a)(e,t),Object(m.a)(e,[{key:"handleMapSubmit",value:function(t,e){(function(t,e){return Et("https://api.openweathermap.org/data/2.5/forecast?lat="+t+"&lon="+e+"&appid="+gt)})(t,e)&&this.componentDidMount()}},{key:"handleSubmit",value:function(t){var e;t.preventDefault(),e=t.target.elements.box.value,Et("https://api.openweathermap.org/data/2.5/forecast?id="+vt[e]+"&appid="+gt)&&this.componentDidMount()}},{key:"dayFocus",value:function(t){this.setState({dayIndex:t})}},{key:"render",value:function(){var t=this;if(0===this.state.days)return i.a.createElement("h1",null,"The Forecast is loading, please wait");if(429===this.state.status)return i.a.createElement("h1",null,"Too many forecast requests have been made. Please come back in an hour.");if(-1!==this.state.dayIndex)return i.a.createElement("div",{style:{width:"fit-content",margin:"auto"}},i.a.createElement(G,{day:this.state.days[this.state.dayIndex],values:this.state.hourly,start:8*this.state.dayIndex,conditions:this.state.hourlyConditions,descriptions:this.state.descriptions,humidities:this.state.humidities,cloudiness:this.state.cloudiness,windSpeeds:this.state.windSpeeds,mainCondition:this.state.conditions[this.state.dayIndex]}),i.a.createElement("button",{id:"prevbtn",className:"cardButton",onClick:function(){return t.dayFocus((t.state.dayIndex+4)%5)}},"Previous"),i.a.createElement("button",{id:"backbtn",className:"cardButton",onClick:function(){return t.dayFocus(-1)}},"Back"),i.a.createElement("button",{id:"nextbtn",className:"cardButton",onClick:function(){return t.dayFocus((t.state.dayIndex+1)%5)}},"Next"));var e=[0,1,2,3,4].map(function(e){return i.a.createElement("div",{onClick:function(){return t.dayFocus(e)},className:"Card",key:e},i.a.createElement(q,{day:t.state.days[e],high:t.state.highs[e],low:t.state.lows[e],condition:t.state.conditions[e]}))});return i.a.createElement("div",null,i.a.createElement("h1",null,this.state.header),i.a.createElement("div",{id:"cardContainer"},e),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("label",null,"Choose a city to display its forecast ",i.a.createElement("br",null),i.a.createElement(bt,{name:"box"})),i.a.createElement("input",{type:"submit",value:"Submit"})),i.a.createElement(nt,{submit:this.handleMapSubmit}))}},{key:"componentDidMount",value:function(){var t=Object(l.a)(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt(wt);case 2:-1===(e=t.sent)?this.setState({status:429}):this.setState(yt({},e));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(i.a.Component);s.a.render(i.a.createElement(jt,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.91209ed9.chunk.js.map