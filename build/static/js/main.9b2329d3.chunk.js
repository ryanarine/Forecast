(window.webpackJsonpforecast=window.webpackJsonpforecast||[]).push([[0],{10:function(t,e,a){t.exports=a.p+"static/media/Snowy.cad3feb8.png"},11:function(t,e,a){t.exports=a.p+"static/media/cloudy.a4699f94.jpg"},12:function(t,e,a){t.exports=a.p+"static/media/Clear.122dd7e9.jpeg"},13:function(t,e,a){t.exports=a.p+"static/media/Thunderstorm.45c32976.jpg"},14:function(t,e,a){t.exports=a.p+"static/media/Drizzle.eada9e67.jpg"},15:function(t,e,a){t.exports=a.p+"static/media/Fog.79022001.png"},27:function(t,e,a){t.exports=a(56)},33:function(t,e,a){},34:function(t,e,a){},56:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(16),r=a.n(i),l=a(7),o=a.n(l),c=a(8),u=a(2),h=a(3),d=a(5),m=a(4),p=a(1),y=a(6),E=a(9),f=a.n(E),v=a(10),b=a.n(v),g=a(11),C=a.n(g),w=a(12),k=a.n(w),x=a(13),j=a.n(x),S=a(14),O=a.n(S),M=a(15),N=a.n(M);a(33);var F=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(d.a)(this,Object(m.a)(e).call(this,t))).state={name:"",high:0,low:0,cond:"",bg:""},a}return Object(y.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"weatherCard",style:this.state.bg},s.a.createElement("h2",{className:"mainh2"},this.state.name),s.a.createElement("h2",{className:"mainh2"},this.state.cond),s.a.createElement("h2",{className:"highh2"},this.state.high),s.a.createElement("h2",{className:"lowh2"},this.state.low))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var a,n="Clear"===(a=t.condition)?k.a:"Clouds"===a?C.a:"Rain"===a?f.a:"Snow"===a?b.a:"Thunderstorm"===a?j.a:"Drizzle"===a?O.a:N.a;return{name:t.day,high:"High: "+t.high+"\xb0C",low:"Low: "+t.low+"\xb0C",cond:t.condition,bg:{backgroundImage:"url("+n+")"}}}}]),e}(s.a.Component);var A=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(d.a)(this,Object(m.a)(e).call(this,t))).state={values:0,day:"",start:0,conditions:0,descriptions:0,img:0},a}return Object(y.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("table",{align:"center",style:{backgroundColor:"mediumaquamarine",backgroundImage:"url("+(t=this.state.mainCondition,"Clear"===t?k.a:"Clouds"===t?C.a:"Rain"===t?f.a:"Snow"===t?b.a:"Thunderstorm"===t?j.a:"Drizzle"===t?O.a:N.a)+")",backgroundSize:"cover"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},this.state.day)),s.a.createElement("tr",null,s.a.createElement("th",null,"Time"),s.a.createElement("th",null,"Temperature"),s.a.createElement("th",null,"Condition"),s.a.createElement("th",null,"Description")),s.a.createElement("tr",null,s.a.createElement("td",null,"12 AM"),s.a.createElement("td",null,this.state.values[this.state.start]),s.a.createElement("td",null,this.state.conditions[this.state.start]),s.a.createElement("td",null,this.state.descriptions[this.state.start])),s.a.createElement("tr",null,s.a.createElement("td",null,"3 AM"),s.a.createElement("td",null,this.state.values[this.state.start+1]),s.a.createElement("td",null,this.state.conditions[this.state.start+1]),s.a.createElement("td",null,this.state.descriptions[this.state.start+1])),s.a.createElement("tr",null,s.a.createElement("td",null,"6 AM"),s.a.createElement("td",null,this.state.values[this.state.start+2]),s.a.createElement("td",null,this.state.conditions[this.state.start+2]),s.a.createElement("td",null,this.state.descriptions[this.state.start+2])),s.a.createElement("tr",null,s.a.createElement("td",null,"9 AM"),s.a.createElement("td",null,this.state.values[this.state.start+3]),s.a.createElement("td",null,this.state.conditions[this.state.start+3]),s.a.createElement("td",null,this.state.descriptions[this.state.start+3])),s.a.createElement("tr",null,s.a.createElement("td",null,"12 PM"),s.a.createElement("td",null,this.state.values[this.state.start+4]),s.a.createElement("td",null,this.state.conditions[this.state.start+4]),s.a.createElement("td",null,this.state.descriptions[this.state.start+4])),s.a.createElement("tr",null,s.a.createElement("td",null,"3 PM"),s.a.createElement("td",null,this.state.values[this.state.start+5]),s.a.createElement("td",null,this.state.conditions[this.state.start+5]),s.a.createElement("td",null,this.state.descriptions[this.state.start+5])),s.a.createElement("tr",null,s.a.createElement("td",null,"6 PM"),s.a.createElement("td",null,this.state.values[this.state.start+6]),s.a.createElement("td",null,this.state.conditions[this.state.start+6]),s.a.createElement("td",null,this.state.descriptions[this.state.start+6])),s.a.createElement("tr",null,s.a.createElement("td",null,"9 PM"),s.a.createElement("td",null,this.state.values[this.state.start+7]),s.a.createElement("td",null,this.state.conditions[this.state.start+7]),s.a.createElement("td",null,this.state.descriptions[this.state.start+7])))));var t}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{day:t.day,values:t.values,start:t.start,conditions:t.conditions,descriptions:t.descriptions,mainCondition:t.mainCondition}}}]),e}(s.a.Component),D=(a(34),a(26)),T=a.n(D),I=43.59,z=-79.7,P=8,R=I,_=z,K=P,B=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(d.a)(this,Object(m.a)(e).call(this))).state={lat:I,lng:z},t.handleClick=t.handleClick.bind(Object(p.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(p.a)(t)),t}return Object(y.a)(e,t),Object(h.a)(e,[{key:"handleClick",value:function(t){this.setState({lat:t.lat,lng:t.lng})}},{key:"handleSubmit",value:function(){this.props.submit(this.state.lat,this.state.lng)}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{id:"mapContainer"},s.a.createElement("label",null,"Or click on the map to see the forecast there")," ",s.a.createElement("br",null),s.a.createElement("label",null,"Latitude: ",this.state.lat," Longitude: ",this.state.lng),s.a.createElement("br",null),s.a.createElement("input",{type:"submit",value:"Submit Coordinates",onClick:this.handleSubmit}),s.a.createElement(T.a,{bootstrapURLKeys:{key:"AIzaSyA5XxXKw44uRve7wAs046c_jGmKNhK6B1Y"},defaultCenter:{lat:I,lng:z},defaultZoom:P,onClick:function(e){return t.setState({lat:e.lat,lng:e.lng})},onChange:function(t){R=t.center.lat,_=t.center.lng,K=t.zoom}}))}},{key:"componentWillUnmount",value:function(){I=R,z=_,P=K}}]),e}(n.Component),H=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function L(t){var e=t.city.name;return e?e+"'s Forecast":"Forecast of Unknown City"}function V(t){for(var e=[],a=0;a<40;a+=8)e.push(H[(new Date(t.list[a].dt_txt.slice(0,10)).getDay()+1)%7]);return e}function W(t,e){for(var a=[],n=[],s=[1,1,2,3,3,3,2,1],i=0;i<5;i++){n={maxValue:0,maxCondition:"N/A"};for(var r=8*i;r<8*(i+1);r++){var l=t[r];"N/A"!==l&&(n[l]=n[l]+s[r%8]||s[r%8],n[l]>n.maxValue&&(n.maxValue=n[l],n.maxCondition=l))}a.push(n.maxCondition)}return a}function U(t,e){for(var a=[],n=[],s=0;s<e.length-1;s++){for(var i=0,r=Number.MAX_SAFE_INTEGER,l=e[s],o=e[s+1],c=l;c<o;c++)i=Math.max(i,t.list[c].main.temp_max),r=Math.min(r,t.list[c].main.temp_min);n.push((i-273.15).toFixed(2)),a.push((r-273.15).toFixed(2))}return{highs:n,lows:a}}function X(t){var e,a=[],n=(e=t[0],(24-new Date(e.dt_txt).getHours())/3);a.push(0);for(var s=n;s<=40;s+=8)a.push(s);return a}function q(t,e){for(var a=e[1],n=[],s=[],i=[],r=0;r<8-a;r++)n.push("N/A"),s.push("N/A"),i.push("N/A");for(var l=0;l<32+a;l++)n.push((t[l].main.temp-273.15).toFixed(2)+"\xb0C"),s.push(t[l].weather[0].main),i.push(t[l].weather[0].description);return{temps:n,conds:s,descs:i}}function G(){return(G=Object(c.a)(o.a.mark(function t(e){var a,n,s,i,r,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(429!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",-1);case 5:return t.next=7,a.json();case 7:return n=t.sent,s=X(n.list),(i={}).city=L(n),i.days=V(n),r=U(n,s),l=q(n.list,s),i.conditions=W(l.conds),i.highs=r.highs,i.lows=r.lows,i.starts=s,i.hourly=l.temps,i.hourlyConditions=l.conds,i.descriptions=l.descs,t.next=23,i;case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t)}))).apply(this,arguments)}var J=function(t){return G.apply(this,arguments)},Y="54a84a123d401ac68736a6bca89f4301",Z={toronto:"6167865",brampton:"5907364",mississauga:"6075357",richmondhill:"6122091",kitchener:"5992996",waterloo:"6176823",markham:"6066513",ottawa:"6094817",hamilton:"5969782",vaughan:"6173577",oshawa:"6094578"},Q="https://api.openweathermap.org/data/2.5/forecast?id=6167865&appid="+Y,$={minWidth:"500px + 3vh"};function tt(t){return t!==Q&&(Q=t,!0)}var et=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(d.a)(this,Object(m.a)(e).call(this,t))).state={days:0,highs:0,lows:0,conds:0,formCity:"toronto",city:"toronto",cityName:"Toronto",status:200,starts:[],hourly:[],hourlyConds:[],descriptions:[],dayIndex:-1},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleMapSubmit=a.handleMapSubmit.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.dayFocus=a.dayFocus.bind(Object(p.a)(a)),a}return Object(y.a)(e,t),Object(h.a)(e,[{key:"handleChange",value:function(t){this.setState({formCity:t.target.value})}},{key:"handleMapSubmit",value:function(t,e){(function(t,e){return tt("https://api.openweathermap.org/data/2.5/forecast?lat="+t+"&lon="+e+"&appid="+Y)})(t,e)&&this.componentDidMount()}},{key:"handleSubmit",value:function(t){var e,a=this;e=this.state.formCity,tt("https://api.openweathermap.org/data/2.5/forecast?id="+Z[e]+"&appid="+Y)&&this.setState({city:this.state.formCity},function(){return a.componentDidMount()}),t.preventDefault()}},{key:"dayFocus",value:function(t){this.setState({dayIndex:t})}},{key:"render",value:function(){var t=this;return 0===this.state.days?s.a.createElement("h1",null,"The Forecast is loading, please wait"):429===this.state.status?s.a.createElement("h1",null,"Too many forecast requests have been made. Please come back in an hour."):-1!==this.state.dayIndex?s.a.createElement("div",{style:$},s.a.createElement(A,{day:this.state.days[this.state.dayIndex],values:this.state.hourly,start:8*this.state.dayIndex,conditions:this.state.hourlyConds,descriptions:this.state.descriptions,mainCondition:this.state.conds[this.state.dayIndex]}),s.a.createElement("button",{id:"backbtn",onClick:function(){return t.dayFocus(-1)}},"Back")):s.a.createElement("div",null,s.a.createElement("h1",null,this.state.cityName),s.a.createElement("div",{id:"cardContainer"},s.a.createElement("div",{onClick:function(){return t.dayFocus(0)},className:"Card"}," ",s.a.createElement(F,{day:this.state.days[0],high:this.state.highs[0],low:this.state.lows[0],condition:this.state.conds[0]})," "),s.a.createElement("div",{onClick:function(){return t.dayFocus(1)},className:"Card"}," ",s.a.createElement(F,{day:this.state.days[1],high:this.state.highs[1],low:this.state.lows[1],condition:this.state.conds[1]})," "),s.a.createElement("div",{onClick:function(){return t.dayFocus(2)},className:"Card"}," ",s.a.createElement(F,{day:this.state.days[2],high:this.state.highs[2],low:this.state.lows[2],condition:this.state.conds[2]})," "),s.a.createElement("div",{onClick:function(){return t.dayFocus(3)},className:"Card"}," ",s.a.createElement(F,{day:this.state.days[3],high:this.state.highs[3],low:this.state.lows[3],condition:this.state.conds[3]})," "),s.a.createElement("div",{onClick:function(){return t.dayFocus(4)},className:"Card"}," ",s.a.createElement(F,{day:this.state.days[4],high:this.state.highs[4],low:this.state.lows[4],condition:this.state.conds[4]})," ")),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Choose a city to display its forecast ",s.a.createElement("br",null),s.a.createElement("select",{value:this.state.formCity,onChange:this.handleChange},s.a.createElement("option",{value:"toronto"},"Toronto"),s.a.createElement("option",{value:"brampton"},"Brampton"),s.a.createElement("option",{value:"mississauga"},"Mississauga"),s.a.createElement("option",{value:"richmondhill"},"Richmond Hill"),s.a.createElement("option",{value:"kitchener"},"Kitchener"),s.a.createElement("option",{value:"waterloo"},"Waterloo"),s.a.createElement("option",{value:"markham"},"Markham"),s.a.createElement("option",{value:"ottawa"},"Ottawa"),s.a.createElement("option",{value:"hamilton"},"Hamilton"),s.a.createElement("option",{value:"vaughan"},"Vaughan"),s.a.createElement("option",{value:"oshawa"},"Oshawa"))),s.a.createElement("input",{type:"submit",value:"Submit"})),s.a.createElement(B,{submit:this.handleMapSubmit}))}},{key:"componentDidMount",value:function(){var t=Object(c.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(Q);case 2:-1===(e=t.sent)?this.setState({status:429}):this.setState({days:e.days,highs:e.highs,lows:e.lows,conds:e.conditions,starts:e.starts,hourly:e.hourly,hourlyConds:e.hourlyConditions,descriptions:e.descriptions,cityName:e.city});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(s.a.Component);r.a.render(s.a.createElement(et,null),document.getElementById("root"))},9:function(t,e,a){t.exports=a.p+"static/media/Rainy.2f78334f.png"}},[[27,1,2]]]);
//# sourceMappingURL=main.9b2329d3.chunk.js.map